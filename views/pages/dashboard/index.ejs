<!-- Title is passed via render function -->

<div class="container mx-auto px-4 py-8">
  <h1 class="text-2xl font-bold mb-6">Dashboard</h1>
  
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
    <!-- Database Stats -->
    <div class="bg-card text-card-foreground rounded-lg border shadow p-6">
      <div class="flex items-center justify-between">
        <h2 class="text-xl font-semibold">Databases</h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary">
          <path d="M12 2v20M2 12h20"></path>
        </svg>
      </div>
      <p class="text-4xl font-bold mt-4"><%= stats.databases || 0 %></p>
      <p class="text-sm text-muted-foreground mt-2">Total databases connected</p>
    </div>
    
    <!-- Schema Stats -->
    <div class="bg-card text-card-foreground rounded-lg border shadow p-6">
      <div class="flex items-center justify-between">
        <h2 class="text-xl font-semibold">Schemas</h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary">
          <rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect>
          <line x1="3" x2="21" y1="9" y2="9"></line>
          <line x1="3" x2="21" y1="15" y2="15"></line>
          <line x1="12" x2="12" y1="3" y2="21"></line>
        </svg>
      </div>
      <p class="text-4xl font-bold mt-4"><%= stats.schemas || 0 %></p>
      <p class="text-sm text-muted-foreground mt-2">Total schemas defined</p>
    </div>
    
    <!-- Users Stats -->
    <div class="bg-card text-card-foreground rounded-lg border shadow p-6">
      <div class="flex items-center justify-between">
        <h2 class="text-xl font-semibold">Users</h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
      <p class="text-4xl font-bold mt-4"><%= stats.users || 0 %></p>
      <p class="text-sm text-muted-foreground mt-2">Total users registered</p>
    </div>
    
    <!-- API Stats -->
    <div class="bg-card text-card-foreground rounded-lg border shadow p-6">
      <div class="flex items-center justify-between">
        <h2 class="text-xl font-semibold">API Calls</h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary">
          <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
        </svg>
      </div>
      <p class="text-4xl font-bold mt-4"><%= stats.apiCalls || 0 %></p>
      <p class="text-sm text-muted-foreground mt-2">Total API calls today</p>
    </div>
  </div>
  
  <!-- Recent Activity -->
  <div class="mt-8">
    <h2 class="text-xl font-semibold mb-4">Recent Activity</h2>
    <div class="bg-card text-card-foreground rounded-lg border shadow">
      <div class="overflow-x-auto">
        <table class="w-full caption-bottom text-sm">
          <thead class="[&_tr]:border-b">
            <tr class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted">
              <th class="h-10 px-2 text-left align-middle font-medium text-muted-foreground">Action</th>
              <th class="h-10 px-2 text-left align-middle font-medium text-muted-foreground">User</th>
              <th class="h-10 px-2 text-left align-middle font-medium text-muted-foreground">Resource</th>
              <th class="h-10 px-2 text-left align-middle font-medium text-muted-foreground">Timestamp</th>
            </tr>
          </thead>
          <tbody class="[&_tr:last-child]:border-0">
            <% if (recentActivity && recentActivity.length > 0) { %>
              <% recentActivity.forEach(function(activity) { %>
                <tr class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted">
                  <td class="p-2 align-middle"><%= activity.action %></td>
                  <td class="p-2 align-middle"><%= activity.user %></td>
                  <td class="p-2 align-middle"><%= activity.resource %></td>
                  <td class="p-2 align-middle"><%= activity.timestamp %></td>
                </tr>
              <% }); %>
            <% } else { %>
              <tr>
                <td colspan="4" class="p-4 text-center text-muted-foreground">No recent activity</td>
              </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
